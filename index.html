<!doctype html>
<!--[if IE 8]> <html class="ie ie8" lang="en"> <![endif]-->
<!--[if IE 9]> <html class="ie ie9" lang="en"> <![endif]-->
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sforce editor | Welcome</title>
    <link rel="stylesheet" href="css/app.css" />
    <script src="bower_components/modernizr/modernizr.js"></script>
    <!-- <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css">	 -->
    <!-- <link rel="stylesheet" href="JSLibrary/css/jquery.jqRangeSlider.css">	 -->
    <!-- <link rel="stylesheet" href="JSLibrary/css/jquery-ui-1.9.1.min.css">	 -->


  </head>
  <style>
	.bt-img-option {float:right;margin-right:15px}
  </style>
  <body>
    
    <header class="header">
      <div class="logo-wrapper">
        <a class="logo" href="/">CT Mobile</a>
      </div>
      <nav class="row  top-bar  mainNav" data-topbar>
        <ul class="title-area">
          <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
        </ul>
        <section class="top-bar-section">
          <ul>
            <li><a href="#" id="head-menu-home">Home Page</a></li>
            <li><a href="#" id="head-menu-slide"  data-dropdown="se-actions" >Slide-Editor</a>  <!-- data-options="is_hover:true" -->
       			<div id="se-actions" class="tiny content f-dropdown text-left"  data-dropdown-content>       			  
       			    <input class="small" id="se-plband" style="vertical-align: text-top;" type="checkbox" checked onclick="MyApp.CManager.changePlBand(this);" >Widgets band</input><hr>                
       			    <input class="small" id="se-plcontrols" style="vertical-align: text-top;" type="checkbox" checked onclick="MyApp.CManager.changePlControls(this);" >Control buttons</input><hr>                
                	<a href="#"  class="button large radius round" style="color:white" id="se-create"  >Create  </a><hr>
              		<a href="#"  class="button large radius round" style="color:white" id="se-open"  >Open  </a><hr>
              		<a href="#"  class="button large radius round"  style="color:white" id="se-save"  >Save  </a>          
              	</div>
              
            </li>
            <li><a href="#" id="head-menu-video">Widget video</a></li>
            <li><a href="#" id="head-menu-slider" >Widget slider</a></li>
            <li><a href="#" id="head-menu-sortable">Widget sortable</a></li>
            <li class="has-dropdown" id="chart-menu">
              <a href="#">Chart pie</a>
              <ul class="dropdown">
                <li><a href="#" jq-type="pie">Pie chart</a></li>
                <li><a href="#" jq-type="line">Line chart</a></li>
                <li><a href="#" jq-type="spline">Spline chart</a></li>
                <li><a href="#" jq-type="area">Area chart</a></li>
              </ul>
            </li>
          </ul>
        </section>
      </nav>
    </header>
       
        
  			<div class="row">
	        	<div class="progress small-12 success radius hide">
		         	<span class="meter" style="width:0%"></span>
	        	</div>
       		</div>
	 	
   <div class="row  content">

  	<div class="row">
   		<div id="allwidget-content">
	    	<!-- homewidget-content -->
		  	<div id="homewidget-content">
		  	</div>
		  	<!-- homewidget-content -->
		  	<div id="slideeditor-content">
		  	</div>
		  	<!-- videowidget-content -->
		  	<div id="videowidget-content">
		  	</div>
	     	<!-- slidewidget-content -->
		  	<div id="sliderwidget-content">
		  	</div>
		   	<!-- sortablewidget-content -->
		  	<div id="sortablewidget-content">
		  	</div>
		  	<!-- chartwidget-content -->
	     	<div id="chartwidget-content">
	       	</div><!-- chartwidget-content -->
     
		</div>
     </div>


	
    </div>
    <!-- ========================= TEMPLATES =============================== -->
 	<!--   ---------------------- main Sortable TPL ------------------------------ -->
 	 <script type="text/template" id="main-sortable-template">
 	 	<div class="large-12  columns  content__main">
				<div class="row">
					<div class="large-4 columns placeholder-controls">
						<a  id="sortable-control-btn<%= n_str %>" class="button" data-reveal-id="sortableControlModal">Sortable controls</a>
						<a  id="sortable-data-btn<%= n_str %>" class="button" data-reveal-id="sortableDataModal">Sortable   data</a>
					</div>
					<div class="large-4 columns" id="slider-logo">
						<img src="img/sortable.png" />
					</div>
				</div>
		</div>
		<div class="large-12 column left ui-island placeholder-content" >
			  <div id="sortcontainer">	
			 	<ul id="sortablewidget<%= n_str %>" class="sortablewidget ui-sortable">
			 	</ul>
			 </div>	
		</div>
		<div id="sortablewidget-theme<%= n_str %>"></div>
	    <div id="sortablewidget-code<%= n_str %>"></div>
 	 </script>

    <!--   ---------------------- main Slider TPL ------------------------------ -->
    <script type="text/template" id="main-slider-template">

			<div class="large-12  columns  content__main">
				<div class="row">
					<div class="large-6 columns placeholder-controls">
						<a  id="slider-control-btn<%= n_str %>" class="button" data-reveal-id="sliderControlModal">Slider controls</a>
					</div>
					<div class="large-4 columns" id="slider-logo">
						<img src="img/slider.png" />
					</div>
				</div>
			</div>
			<div id="sliderwidget-theme<%= n_str %>"></div>
	      	<div id="sliderwidget-code<%= n_str %>"></div>
			<div class="large-12 column left ui-island placeholder-content" >
			 	<div id="sliderwidget<%= n_str %>" class="sliderwidget"></div>
		    </div>
		    
		
    </script>
	<!--   ---------------------- main Video TPL ------------------------------ -->
	<script type="text/template" id="main-video-template">
	<!-- videowidget-content -->
   
		 <div class="large-12  columns content__main placeholder-content">
			<div class="row">

				<div class="large-4 columns placeholder-controls">
					<br><br>
					<a  id="video-control-btn<%= n_str %>" class="button" data-reveal-id="videoControlModal">Video controls</a>
				</div>
				<div class="large-4 columns" id="video-logo<%= n_str %>">
					<img src="img/youtube.png" />
				</div>

			</div>
			
		 </div>
		 <div class="large-12 column left " id="video-player<%= n_str %>">
		 </div>
   <!-- videowidget-content -->
	</script>
 	<!--   ---------------------- player Video TPL ------------------------------ -->
 	<script type="text/template" id="player-youtube-video-template" >
 		<!-- <div class="flex-video">	-->
			<iframe class="youtube-player" type="text/html" width="<%= Width %>" height="<%= Height %>" src="http://www.youtube.com/embed/<%= video_id %>?autohide=1&autoplay=<%= Autoplay %>" frameborder="0"></iframe>
		<!-- </div> -->
 	</script>

 	<script type="text/template" id="player-other-video-template" >
 		<video class="video-js vjs-default-skin" width="<%= Width %>" height="<%= Height %>"
			poster="http://video-js.zencoder.com/oceans-clip.png"	data-setup='{ "controls": true, "autoplay": <%= Autoplay %>, "preload": "auto" }' >

			<source src="<%= video_id %>" type='video/mp4' />
		</video>
 	</script>

	<!--  --------------------- Chart TPL ----------------------------- -->
	<script type="text/template" id="main-chart-template">
     
        <div id="body-chart" class="ui-island placeholder-content">
         
         <!-- <div class="row center block-type bt-3"></div> -->
          <div class="chart<%= n_str %>">
         <!--    <a href="#" data-reveal-id="myModal">Chart control</a>-->
         	 
             <div class="row center">
             		<!-- 
             		<div class="columns large-4">
						<div class="block-type bt-3 row ">Type</div>
             		</div>
             		-->
             		<div class="placeholder-controls">
	             		<div class="columns large-4">
							<a class="button lage left"  id="chart-control-btn<%= n_str %>"  data-reveal-id="chartControlModal">Chart control</a>
	             		</div>
	             		<div class="columns large-4">
							<a class="button lage right" id="chart-data-btn<%= n_str %>" data-reveal-id="chartDataModal">Chart data</a>
	             		</div>
             		</div>
             </div>
             <div class="row">
			      <figure class="chart-figure">
					<div id="chartstub<%= n_str %>">
					 <!-- <figcaption>Simple chart</figcaption> -->
					 <!-- <img src="img/chart.png" alt=""/>     -->
					</div>
					<div id="chartwidget<%= n_str %>"  style="width:100; height:100%;">
					
					</div>

			      </figure>
	      </div>
	      <div id="chartwidget-theme<%= n_str %>"></div>
	      <div id="chartwidget-code<%= n_str %>"></div>
          </div>
        </div>
      </div>
    
	</script>
    <!-- -----------------------TPL chart Data ------------------------ -->
    <div id="chartDataModal" class="reveal-modal" data-reveal>
    	<fieldset>
	      <legend>Chart Data</legend>
	       <div class="row">
			<table id="chartDataTable" width="100%">
			  <thead>
			    <th width="50%">Name</th>
			    <th width="30%">Data</th>
			    <th width="20%">Control</th>
			    <tbody>
			      <!-- b:chart data item -->
				  <tr>
				  <td>
				    <input id="chart-data-name-0" type="text" placeholder="New Name..." />
				  </td>
				  <td>
				    <input id="chart-data-value-0" type="text" placeholder="0" value=0 />
				  </td>
				  <td>
				    <a class="button tiny" href="#">Delete item</a>
				  </td>		       
			      </tr>
			      <!-- e:chart data item -->
			    </tbody>
			  </thead>
			</table>
			<div class="row">		
				<div class="columns large-3">
					<a  id="chart-data-add-btn" class="button">Add new item</a>
				</div>
				<div class="columns large-9">
					<a  id="ok-chart-btn" class="button" onclick="MyApp.SaveScreenProp('chartDataModal');">Ok</a>
				</div>
			</div>
	       </div>
	   </fieldset>
    	<a class="close-reveal-modal">&#215;</a> 
    </div>
	<!-- ----------------------- TPL chart Control ---------------------------- -->
 	<script type="text/template" id="data-chart-item-template">
 	  	<tr>
			  <td>
			      <input id="data-chart-name-0" type="text" placeholder="New Name..." value="<%= data_name %>" />
			  </td>
			  <td>
			      <input id="data-chart-value-0" type="text" placeholder="0" value=<%= data_value %> />
			  </td>
			  <td>
			      <a id="data-chart-del-btn-<%= data_i %>" class="data-del button tiny">Delete item</a>
			  </td>
		</tr>	
 	</script>
	<script type="text/template" id="data-item-template">
 	  	<tr>
			  <td>
			      <input  type="text" placeholder="New Name..." value="" />
			  </td>
			  <td>
			      <input  type="text" placeholder="0" value="" />
			  </td>
			  <td>
			      <a  class="data-del button tiny" onclick="$(this).parent().parent().remove();">Delete item</a>
			  </td>
		</tr>	
 	</script>
 	<script type="text/template" id="data-item-tpl">
 	  	<tr>
			  <td>
			      <input  type="text" placeholder="New Name..." value="<%= data_name %>" />
			  </td>
			  <td>
			      <input  type="text" placeholder="0" value=<%= data_value %> />
			  </td>
			  <td>
			      <a  class="data-del button tiny" onclick="$(this).parent().parent().remove();">Delete item</a>
			  </td>
		</tr>	
 	</script>
 	<script type="text/template" id="block-type-tpl">
	 	
 		<a  class="button" data-dropdown="cur_block_type_<%= nomer %>"><%= cur_name %></a>
		<ul id="cur_block_type_<%= nomer %>" class="tiny f-dropdown text-left" data-dropdown-content>
		  <li onclick="MyApp.CManager.selectBlockType(<%= nomer %>,'RichText');"><img src="img/sm-text.png" class="bt-img-option"/><a >Text</a></li>
		  <li onclick="MyApp.CManager.selectBlockType(<%= nomer %>,'Chart');"><img src="img/sm-chart.png" class="bt-img-option"/><a >Chart</a></li>
		  <ul id="chart_sub_block_<%= nomer %>" class="hide">		  	
	  	    <% _.each(_.values(MyApp.Chart.model.get('type_prop')), function(item){ %>
				<li  onclick="MyApp.CManager.selectSubBlockType(<%= nomer %>,'Chart','<%= item.name %>');" ><img src="img/sm-<%= item.name.toLowerCase() %>.png" class="bt-img-option" /> <a><%= item.name %></a> </li>
			<% }); %>
		  </ul>

		  <li onclick="MyApp.CManager.selectBlockType(<%= nomer %>,'Sortable');"><img src="img/sm-sortable.png" class="bt-img-option"/><a >Sortable</a></li>
		  <li onclick="MyApp.CManager.selectBlockType(<%= nomer %>,'Slider');"><img src="img/sm-slider.png" class="bt-img-option"/><a >Slider</a></li>
		  <li onclick="MyApp.CManager.selectBlockType(<%= nomer %>,'Video');"><img src="img/sm-video.png" class="bt-img-option"/><a >Video</a></li>
		</ul>
 	</script>
 	<!--  ============================ MODAL WINDOWS ========================== -->
    <!-- ----------------------------- Sortable Data Modal ----------------------- -->
 	<div id="sortableDataModal" class="reveal-modal" data-reveal>
    	<fieldset>
	      <legend>Sortable Data</legend>
	       <div class="row">
				<table id="sortableDataTable" width="100%">
				  <thead>
				    <th width="50%">Name</th>
				    <th width="30%">Data</th>
				    <th width="20%">Control</th>
				    <tbody>
				      <!-- b:sortable data item -->
					  <tr>
					  <td>
					    <input id="sortable-data-name-0" type="text" placeholder="New Name..." />
					  </td>
					  <td>
					    <input id="sortable-data-value-0" type="text" placeholder="0" value=0 />
					  </td>
					  <td>
					    <a class="button tiny" onclick="$(this).parent().parent().remove();">Delete item</a>
					  </td>		       
				      </tr>
				      <!-- e:sortable data item -->
				    </tbody>
				  </thead>
				</table>
			
			<div class="row">
				<div class="columns large-3">
					<a  id="data-add-sortable-btn" class="button">Add new item</a>
				</div>
				<div class="columns large-7">
					<a  id="ok-sortable-btn" class="button" onclick="MyApp.SaveScreenProp('sortableDataModal');">Ok</a>		
				</div>
	       </div>
	       </div>
	   </fieldset>
    	<a class="close-reveal-modal">&#215;</a> 
    </div>
	<!-- ----------------------------- Sortable Control Modal -------------------- -->
	<div id="sortableControlModal" class="reveal-modal" data-reveal>
	<fieldset>
 			<legend>Sortable setting</legend>
 			<div class="row">
 			  <!-- column-1-->
	      	  <div class="large-4 columns">
	      		<label for="themeList">Theme</label>
				<select name="themeList" onchange="" id="themeList" widgettype="sortable">		
				    <optgroup label="Clear"></optgroup>
				    <option value="Clear-Blue" selected="selected">Clear Blue</option>
				    <option value="Clear-Mozaic">Clear Mozaic</option>
				    <option value="Clear-Green">Clear Green</option>
				    <option value="Clear-Grey">Clear Grey</option>
				    <option value="Clear-Orange">Clear Orange</option>
				    <option value="Clear-Red">Clear Red</option>

				    <optgroup label="Dotted"></optgroup>
				    <option value="Dotted-Blue">Dotted Blue</option>
				    <option value="Dotted-Mozaic">Dotted Mozaic</option>
				    <option value="Dotted-Green">Dotted Green</option>
				    <option value="Dotted-Grey">Dotted Grey</option>
				    <option value="Dotted-Orange">Dotted Orange</option>
				    <option value="Dotted-Red">Dotted Red</option>

				    <optgroup label="Rounded"></optgroup>
				    <option value="Rounded-Blue">Rounded Blue</option>
				    <option value="Rounded-Mozaic">Rounded Mozaic</option>
				    <option value="Rounded-Green">Rounded Green</option>
				    <option value="Rounded-Grey">Rounded Grey</option>
				    <option value="Rounded-Orange">Rounded Orange</option>
				    <option value="Rounded-Red">Rounded Red</option>

				    <optgroup label="Square"></optgroup>
				    <option value="Square-Blue">Square Blue</option>
				    <option value="Square-Mozaic">Square Mozaic</option>
				    <option value="Square-Green">Square Green</option>
				    <option value="Square-Grey">Square Grey</option>
				    <option value="Square-Orange">Square Orange</option>
				    <option value="Square-Red">Square Red</option>
				</select>
				<input id="customStyleInput" widgettype="sortable" required pattern="[a-zA-Z]+" type="text" onblur="MyApp.fieldValidate(this,'');" style="display:none">
				<small id="customStyleInputError" widgettype="sortable" class="error" style="display:none" >Name is required and must be a string.</small>
			</div><!-- column-1-->
			<!-- column-2-->
			<div class="large-4 columns">
				<label for="CustomStyle">Custom style</label>
				<input id="CustomStyle" type="checkbox" widgettype="sortable" onchange="MyApp.customStyleChange(this);">
				
			</div><!-- column-2-->
			<!-- column-3-->
			<div class="large-4 columns">
				<label for="IsActive">Active</label>
				<input id="IsActive" type="checkbox">				
			</div>
 			</div>
 	</fieldset>
 	<fieldset>
 				<legend>Fields & Objects</legend>
 				<div class="row">
 					<div id="fieldsObjects-content">
 						<div class="large-4 columns">
							<label for="sobjects_sortable">Object</label>
							<select id="sobjects_sortable" onchange="MyApp.sobjectsChange(this,'sortable');"></select>				
						</div>
						<div class="large-4 columns">
							<label for="sfields_sortable">Field</label>
							<select id="sfields_sortable" ></select>				
						</div>
 					</div>
 				</div>
 	</fieldset>
	<div class="row">				
		<div class="columns large text-center">
			<a  id="ok-sortable-btn" class="button" onclick="MyApp.SaveScreenProp('sortableControlModal');">Ok</a>		
		</div>
	</div>	
 	<a class="close-reveal-modal">&#215;</a>
 	
	</div>

 	<!-- ----------------------------- Slider Control Modal -------------------- -->
	<div id="sliderControlModal" class="reveal-modal" data-reveal  >
		<fieldset>
 			<legend>Slider setting</legend>
 			<div class="row">
 			    <!-- column-1-->
	      	<div class="large-4 columns">
	      		<label for="themeList">Theme</label>
				<select name="themeList" onchange="" id="themeList" widgettype="slider">		
				    <optgroup label="Clear"></optgroup>
				    <option value="Clear-Blue" selected="selected">Clear Blue</option>
				    <option value="Clear-Mozaic">Clear Mozaic</option>
				    <option value="Clear-Green">Clear Green</option>
				    <option value="Clear-Grey">Clear Grey</option>
				    <option value="Clear-Orange">Clear Orange</option>
				    <option value="Clear-Red">Clear Red</option>

				    <optgroup label="Dotted"></optgroup>
				    <option value="Dotted-Blue">Dotted Blue</option>
				    <option value="Dotted-Mozaic">Dotted Mozaic</option>
				    <option value="Dotted-Green">Dotted Green</option>
				    <option value="Dotted-Grey">Dotted Grey</option>
				    <option value="Dotted-Orange">Dotted Orange</option>
				    <option value="Dotted-Red">Dotted Red</option>

				    <optgroup label="Rounded"></optgroup>
				    <option value="Rounded-Blue">Rounded Blue</option>
				    <option value="Rounded-Mozaic">Rounded Mozaic</option>
				    <option value="Rounded-Green">Rounded Green</option>
				    <option value="Rounded-Grey">Rounded Grey</option>
				    <option value="Rounded-Orange">Rounded Orange</option>
				    <option value="Rounded-Red">Rounded Red</option>

				    <optgroup label="Square"></optgroup>
				    <option value="Square-Blue">Square Blue</option>
				    <option value="Square-Mozaic">Square Mozaic</option>
				    <option value="Square-Green">Square Green</option>
				    <option value="Square-Grey">Square Grey</option>
				    <option value="Square-Orange">Square Orange</option>
				    <option value="Square-Red">Square Red</option>
				</select>
				<input id="customStyleInput" widgettype="slider" required pattern="[a-zA-Z]+" type="text" onblur="MyApp.fieldValidate(this,'');" style="display:none">
				<small id="customStyleInputError" widgettype="slider" class="error" style="display:none" >Name is required and must be a string.</small>
			</div><!-- column-1-->
			<!-- column-2-->
			<div class="large-4 columns">
				<label for="custom-style">Custom style</label>
				<input id="custom-style" type="checkbox" widgettype="slider" onchange="MyApp.customStyleChange(this);">
				
			</div><!-- column-2-->
			<!-- column-3-->
			<div class="large-4 columns">
				<label for="IsActive">Active</label>
				<input id="IsActive" type="checkbox">				
			</div>
			<!-- column-3-->
	     </div>
 		</fieldset>
 	 	<fieldset>
 				<legend>Fields & Objects</legend>
 				<div class="row">
 					<div id="fieldsObjects-content">
 						<div class="large-4 columns">
							<label for="sobjects_slider">Object</label>
							<select id="sobjects_slider" onchange="MyApp.sobjectsChange(this,'slider');"></select>				
						</div>
						<div class="large-4 columns">
							<label for="sfields_slider">Field</label>
							<select id="sfields_slider" ></select>				
						</div>
 					</div>
 				</div>
 	</fieldset>		
 		<fieldset>
 			<legend>Slider Settings</legend>
 			<div class="row">
 				<div class="large-4 columns">
 					<label>Minimum Value</label>
 					<input id="Min" type="text" value="0" />
 				</div>
 				<div class="large-4 columns"></div>
 				<div class="large-4 columns">
 					<label>Maximum Value</label>
 					<input id="Max" type="text" value="0" />
 				</div>
 			</div>
 			<div class="row">
 				<div class="large-4 columns">
 					<label>Default Value</label>
 					<input id="Default" type="text" value="0" />
 				</div>
 				<div class="large-4 columns"></div>
 				<div class="large-4 columns">
 					<label>Slider Title</label>
 					<input id="Title" type="text" value="" />
 				</div>
 			</div>
 			<div class="row">
 				<div class="large-4 columns">
 					<label>Slider step</label>
 					<input id="Step" type="text" value="0" />
 				</div>
 			</div>
 		</fieldset>
 		<div class="row">				
		<div class="columns large text-center">
			<a  id="ok-slider-btn" class="button" onclick="MyApp.SaveScreenProp('sliderControlModal');">Ok</a>		
		</div>
	</div>		
 	  <a class="close-reveal-modal">&#215;</a>
	</div>
 	<!-- ----------------------------- Video Control Modal -------------------- -->
 	<div id="videoControlModal" class="reveal-modal" data-reveal>
 		<fieldset>
 			<legend>Video setting</legend>
 			<div class="row">
 				<!-- <form name="video-prop"> -->
 				<div class="large-5 columns">
 					<label for="VideoSource">Video source</label>
 					<select id="VideoSource">
 						<option value="Youtube" selected>Youtube</option>
 						<option value="Custom-URL">Custom URL</option>
						<option value="SF-Content">SF Content</option>
 					</select>
 				
					 <label>Width</label>
				     <input id="Width" type="text" name="Width" placeholder="100%" value="100%" />
				     <label>Height</label>
				     <input id="Height" type="text" name="Height" placeholder="100%" value="500" />			    

 				</div>
 				<div class="large-4  large-offset-3 columns">
 					<label for="IsActive">Active</label>
					<input id="IsActive" type="checkbox" checked /><br><br>
					
					<label for="Autoplay">Autoplay</label>
					<input id="Autoplay" type="checkbox" /><br><br>
					
					<label for="VideoId">Video Id</label>
					<input  id="VideoId" type="text" value="nJQW-rbHMS0" placeholder="nJQW-rbHMS0" />
 				</div>
 				<!-- </form> -->
 			</div>
 		</fieldset>
 		<div class="row">				
			<div class="columns large text-center">
				<a  id="ok-sortable-btn" class="button" onclick="MyApp.SaveScreenProp('videoControlModal');">Ok</a>		
			</div>
		</div>	
 		<a class="close-reveal-modal">&#215;</a> 
 	</div>
	<!--  ------------------------- Chart Control Modal window ---------------------- -->
    <div id="chartControlModal" class="reveal-modal" data-reveal> 
       <form name="chart-prop" data-abide>
	   <fieldset>
	      <legend>Common setting</legend>
	      <div class="row">
	        <!-- column-1-->
	      	<div class="large-4 columns">
	      		<label for="themeList">Theme</label>
				<select name="themeList" onchange="" id="themeList" widgettype="chart" >		
				    <optgroup label="Clear"></optgroup>
				    <option value="Clear-Blue" selected="selected">Clear Blue</option>
				    <option value="Clear-Mozaic">Clear Mozaic</option>
				    <option value="Clear-Green">Clear Green</option>
				    <option value="Clear-Grey">Clear Grey</option>
				    <option value="Clear-Orange">Clear Orange</option>
				    <option value="Clear-Red">Clear Red</option>

				    <optgroup label="Dotted"></optgroup>
				    <option value="Dotted-Blue">Dotted Blue</option>
				    <option value="Dotted-Mozaic">Dotted Mozaic</option>
				    <option value="Dotted-Green">Dotted Green</option>
				    <option value="Dotted-Grey">Dotted Grey</option>
				    <option value="Dotted-Orange">Dotted Orange</option>
				    <option value="Dotted-Red">Dotted Red</option>

				    <optgroup label="Rounded"></optgroup>
				    <option value="Rounded-Blue">Rounded Blue</option>
				    <option value="Rounded-Mozaic">Rounded Mozaic</option>
				    <option value="Rounded-Green">Rounded Green</option>
				    <option value="Rounded-Grey">Rounded Grey</option>
				    <option value="Rounded-Orange">Rounded Orange</option>
				    <option value="Rounded-Red">Rounded Red</option>

				    <optgroup label="Square"></optgroup>
				    <option value="Square-Blue">Square Blue</option>
				    <option value="Square-Mozaic">Square Mozaic</option>
				    <option value="Square-Green">Square Green</option>
				    <option value="Square-Grey">Square Grey</option>
				    <option value="Square-Orange">Square Orange</option>
				    <option value="Square-Red">Square Red</option>
				</select>
				<input id="customStyleInput" widgettype="chart" required pattern="[a-zA-Z]+" type="text" onblur="MyApp.fieldValidate(this,'');" style="display:none">
				<small id="customStyleInputError" widgettype="chart" class="error">Name is required and must be a string.</small>
			</div><!-- column-1-->
			<!-- column-2-->
			<div class="large-4 columns">
				<label for="CustomStyle">Custom style</label>
				<input id="CustomStyle" type="checkbox" widgettype="chart" onchange="MyApp.customStyleChange(this);">
				
			</div><!-- column-2-->
			<!-- column-3-->
			<div class="large-4 columns">
				<label for="IsActive">Active</label>
				<input id="IsActive" type="checkbox">				
			</div>
			<!-- column-3-->
	      </div>		
	   </fieldset>
	   <fieldset>
	      <legend>Chart settings</legend>
	      <div class="row">
	      <!-- colum 1 -->
			  <div class="large-4 columns">
			    <label>Title</label>
			    <input id="Title" type="text" placeholder="Chart title..." />
			    <label>Width</label>
			    <input id="Width" type="text" name="width" placeholder="100" value=100 />
			    <label>Height</label>
			    <input id="Height" type="text" name="height" placeholder="100" value=100 />			    
				<label for="Min">Min</label>
			    <input  id="Min" type="text" ></input>			    
			    <label for="Max">Max</label>
			    <input  id="Max" type="text" ></input>			    
			   </div>
			<!-- colum 1 -->
			<!-- colum 2 -->
			 <div class="large-4 columns">
			 	
			 	    <label for="ShowLegend">Show legended</label>
			    	<input  id="ShowLegend" type="checkbox" ></input>
			    	<br>			  
				    <label for="Legend">Legend style</label>
				    <input id="Legend" type="text" name="legend" placeholder="100" value=100 />
			      <label for="LegendLocation">Legend location</label>
			      <select id="LegendLocation" name="legendlocation" >
						  <option value="left">Left</option>
						  <option selected="selected" value="right">Right</option>
						  <option value="top">Top</option>
						  <option value="bottom">Bottom</option>
			      </select>
			 </div>
			<!-- colum 2 -->
	      </div>
	   </fieldset>
	   </form>
		<div class="row">				
			<div class="columns large text-center">
				<a  id="ok-sortable-btn" class="button" onclick="MyApp.SaveScreenProp('chartControlModal');">Ok</a>		
			</div>
		</div>
	
       <a class="close-reveal-modal">&#215;</a>
     </div>
    <!--  ----------------------- Slider Code templatea ------------------- -->
    <script type="text/template" id="slider-code-template">
     	//jQuery.noConflict();
        var defValue = <%= Default %>;
        var minValue = <%= Min %>;
        var maxValue = <%= Max %>;
        var step = <%= Step %>;
        var handle = null;
     	
     	var updateSliderValue = function(e, ui){
                var slider = jQuery(this).data().slider;
                slider.element.find(".ui-slider-handle").text(slider.value());
                slider.element.find(".ui-slider-handle").text(ui.value);
                
        };
        //function initSlider(){
       
			//jQuery("#sliderwidget").slider();

            jQuery("#sliderwidget<%= n_str %>").slider({
                value: defValue,
                min: minValue,
                max: maxValue,
                step: step,
                animate: "fast",
                create: updateSliderValue,
                slide: updateSliderValue
            });
       // };
        //initSlider();
       //jQuery("#sliderwidget").slider();
    </script>
    <!--  ----------------------- Chart Code templatea  ------------------- -->
    <script type="text/template" id="chart-template">
	    console.log("tpl chart <%= type %>");
	    var chartType = "<%= type %>";
	    
	    var strFormat = "";
	    var valType = "";
	    var maxScale = "<%= max %>";
	    var minScale = "<%= min %>";
	    var theme = "<%= Theme %>"; 
	    var style = "<%= styleName %>";
	    	    
	    var shadowChart = true;
	    var axesSet = [{maximum: maxScale, minimum: minScale}];
            if (chartType == 'pie'){
                strFormat = "%.1f%%";
                var valType = "percentage";
                axesSet = [];
            }
            if (chartType == 'bar'){
                axesSet = [];
                axesSet.push({maximum: 100, type: 'category'});
            }
        
         switch (theme) { 
	      case 'Grey': 
		      var paletteColors = ['#c9c8c9', '#3d3d3d', '#a3a2a3', '#696769', '#888688']; 
		      var strokeSeries = '#ffffff'; 
		      var labelFont = (chartType == "pie") ? ['18px sans-serif', '#ffffff'] : ['13px sans-serif', '#333333']; 
		      var legend = ['15px sans-serif', '#000000', '#a3a2a3', '#333333']; 
		      break; 
	      case 'Green': 
		      var paletteColors = ['#eae0bf', '#96704f', '#769f3f', '#af9960', '#acd662']; 
		      var strokeSeries = '#331e11'; 
		      var labelFont = (chartType == "pie") ? ['18px sans-serif', '#331e11'] : ['13px sans-serif', '#331e11']; 
		      var legend = ['15px sans-serif', '#331e11', '#af9960', '#5f3b21']; 
		      break; 
	      case 'Orange': 
		      var paletteColors = ['#fbcb93', '#fb8f49', '#a93603', '#d85d03', '#fbad18']; 
		      var strokeSeries = '#ffffff'; 
		      var labelFont = (chartType == "pie") ? ['18px sans-serif', '#331e11'] : ['13px sans-serif', '#333333']; 
		      var legend = ['15px sans-serif', '#262726', '#a93603', '#a93603']; 
		      break; 
	      case 'Red': 
		      var paletteColors = ['#eeb2ac', '#ff5543', '#771211', '#d4d7db', '#d72008']; 
		      var strokeSeries = '#ffffff'; 
		      var labelFont = (chartType == "pie") ? ['18px sans-serif', '#ffffff'] : ['13px sans-serif', '#333333']; 
		      var legend = ['15px sans-serif', '#262726', '#70767e', '#181818']; 
		      break; 
	      case 'Blue': 
		      var paletteColors = ['#59abe4', '#0c476d', '#96d0fc', '#3472a7', '#dae5f4']; 
		      var strokeSeries = '#111111'; 
		      var labelFont = (chartType == "pie") ? ['18px sans-serif', '#0a0a0a'] : ['13px sans-serif', '#333333']; 
		      var legend = ['15px sans-serif', '#0a0a0a', '#7d8088', '#7d8088']; 
		      break; 
	      case 'Mozaic': 
		      var paletteColors = ['#ec4435', '#1f88cc', '#52b344', '#fbc51f', '#303130']; 
		      var strokeSeries = '#ffffff'; 
		      var labelFont = (chartType == "pie") ? ['18px sans-serif', '#ffffff'] : ['12px sans-serif', '#303130']; 
		      var legend = ['15px sans-serif', '#0a0a0a', '#aaaaaa', '#303130']; 
		      break; 
	      default : //--Green
 			  var paletteColors = ['#eae0bf', '#96704f', '#769f3f', '#af9960', '#acd662']; 
		      var strokeSeries = '#331e11'; 
		      var labelFont = (chartType == "pie") ? ['18px sans-serif', '#331e11'] : ['13px sans-serif', '#331e11']; 
		      var legend = ['15px sans-serif', '#331e11', '#af9960', '#5f3b21']; 
	      break; 
	      }; 
	      switch (style) { 
		case 'Square': 
		      var lineSeries = 1; 
		      var legendLine = 2, legendCorner = 0; 
		      break; 
		case 'Dotted': 
		case 'Rounded': 
		      var lineSeries = 0; 
		      var legendLine = 2, legendCorner = 6; 
		      break; 
		case 'Clear': 
		      var lineSeries = 1; 
		      var legendLine = 1, legendCorner = 0; 
		      break; 
		default : break; 
	      }; 

	    //jQuery.noConflict();
	 	jQuery('#chartstub<%= n_str %>').empty();
	    jQuery('#chartwidget<%= n_str %>').jqChart({
                title: { text: '<%= title %>' },
                legend: { 
					title: { text: '<%= title %>', fillStyle: legend[3], font: '17px sans-serif', }, 
					location : '<%= legendlocation %>', // legend location 
					border: { // legend border 
						padding: 8, 
						strokeStyle: legend[2], 
						lineWidth : legendLine, 
						cornerRadius: legendCorner 
					}, 
					font: legend[0], // item text font 
					textFillStyle: legend[1], // item text color 
					background: '<%= legendbackground %>', // legend background 
					margin: 5, // legend margings 
					visible : true,//<%= showlegend %> 
				}, 
                border: { strokeStyle: '<%= bordercolor %>', lineWidth: 0},
				paletteColors: { 
					type: 'customColors', 
					customColors: paletteColors // backgroung pie segments 
				}, 
				tooltips: { borderColor: 'auto' }, // tooltip border 
				animation: 3, 
				shadows: { enabled: shadowChart }, 
                animation: 3,
                axes: axesSet,
                series: [
                            {
                                type: '<%= type %>',
                                strokeStyle : strokeSeries, // border pie segments color 
				 lineWidth : lineSeries, // border pie segments 
                                labels: {
                                    stringFormat: strFormat,
                                    valueType: valType,
                                    font: labelFont[0], // pie text 
				     fillStyle: labelFont[1] // pie text color
                                },
                                data: [['New Name' , 10], ['New Name1' , 15], ['New Name2' , 20]]
                            }
                        ]
            });

            if (chartType == 'pie'){
                jQuery('#chart<%= n_str %>').bind('tooltipFormat', function (e, data) {
                    var percentage = data.series.getPercentage(data.value);
                    percentage = data.chart.stringFormat(percentage, '%.2f%%');
    
                    return '<b>' + data.dataItem[0] + '</b></br>' +
                           data.value + ' (' + percentage + ')';
                });
            }
    </script>
    <!-- ------------------------- SE Main Page Template ---------------  -->
     <script type="text/template" id="se-main-page-template">
			<div class="large-12  columns  ui-island content__main">
				 <% _.each(_.keys(MyApp.CManager.home_page_model.get('blocks_list')), function(item){ %>
						<div class="row placeholder-content">
							<div class="columns large-10">
								<div class="block-type bt-<%= item.split('-')[1]  %> row">Type:widget</div>
            				</div>
            				<div class="columns large-10">
            					<div class="widget-block-content-<%= item.split('-')[1]  %> row center" ></div>			
            				</div>			
						</div>
				 <% }); %>

			</div>

     </script>
    <!-- ------------------------- Home Page Template ------------------- -->
    <script type="text/template" id="home-page-template">
 	<!--sidebar-->
      <aside class="large-4  columns ">
        <div id="left-sidebar"  class="ui-island placeholder-content" >
		   <div class="row">
     	   	<div class="columns large-12">
				<div class="block-type bt-1 row">Type</div>
            </div>
     	  </div>
          <div class="widget-block-content-1 row center" >          	    
				  <h2>Lorem ipsum</h2>
			      <p>Widget content number 1</p>
			      <footer>
						<button class="custom-button">Lorem ipsum dolor</button>
			      </footer>
          </div>
        </div>
      </aside>
      <!--main column-->
      <div class="large-8  columns  content__main">
        <div id="title-chart" class="ui-island  hero placeholder-content" >
           <div class="row">
     	   	<div class="columns large-12">
				<div class="block-type bt-2 row">Type</div>
            </div>
     	  </div>
          <div class="widget-block-content-2 row center" >          	     
				<h1>Main header</h1>			   
		      <p>Widget content number 2
		      </p>
	  	</div>
       </div>
        <div id="body-chart" class="ui-island placeholder-content">
                     	 
             <div class="row center">
             		<div class="columns large-4">
						<div class="block-type bt-3 row ">Type</div>
             		</div>
             	
             </div>
             <div class="widget-block-content-3 row center">
             	<div class="row center">
			   		
			   	</div>	
	        </div>
	
          
        </div>
      </div>
    </script>
    <!-- =========================Scripts=================================  -->
    <script src="bower_components/jquery/jquery.min.js"></script>
    <script src="bower_components/foundation/js/foundation.min.js"></script>
<!--     <script src="bower_components/foundation/js/foundation.abide.js"></script> -->
    <script src="bower_components/foundation/js/foundation/foundation.dropdown.js"></script>
 <!--    <script src="js/foundation/foundation.reveal.js"></script> -->
    <script src="backbone.marionette/underscore.js"></script>
    <script src="backbone.marionette/backbone.js"></script> 
    <script src="backbone.marionette/backbone.marionette.min.js"></script>
<!--   <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.marionette/1.5.1-bundled/backbone.marionette.min.js"></script> -->
<!-- <script src="backbone.marionette/backbone.wreqr.js"></script> -->  
    <script src="backbone.marionette/json2.js"></script> 
    <script src="ckeditor/ckeditor.js"></script>
    <script src="JSLibrary/js/jquery.jqChart.min.js"></script>
    <script src="http://vjs.zencdn.net/4.1/video.js"></script>

	<!-- <script src="http://code.jquery.com/jquery-1.8.3.js"></script> -->
	<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>

    <script src="js/app.ob.js"></script>
  </body>
</html>